<!DOCTYPE HTML>
<html>
<head>
	<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
</head>
<script type="text/javascript">
	var newArr = [];
	var firstArray = [{x: 20, y: 15 }, { x: 35, y: 18}, {x: 40,y: 20}];
	window.onload = function () {
        var chart = new CanvasJS.Chart("chartContainer", {
        title: {
          text: "Click on legend items to hide/unhide dataseries"
        },
        legend: {
            cursor: "pointer",
            itemclick: function (e) {
                //console.log("legend click: " + e.dataPointIndex);
                //console.log(e);
                if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                    e.dataSeries.visible = false;
                } else {
                    e.dataSeries.visible = true;
                }

                e.chart.render();
            }
        },
        data: [ {
            showInLegend: true,
			visible: false,
            type: "line",
			name:"Den korte graf",
            dataPoints: [{ x: 5, y: 10 }, { x: 25, y: 15 } ]
		}, {
            showInLegend: true,
			name:"Graf vha klik",
			type: "line",
			dataPoints: newArr
		}, {
            showInLegend: true,
			name:"Graf uden klik",
			type: "line",
			dataPoints: firstArray
		}]
    });

    chart.render();
	

	}
</script>
<body>
	<button class="shitting"> click me! </button>
	<div id="chartContainer" style="height: 300px; max-width: 920px; margin: 0px auto;">
	</div>
</body>
</html>

<script>
 
	$(".shitting").click(function() {
		console.log("button is clicked, and here is the array: " + newArr);
		for (var i = 1; i<5; i++) {
			console.log("filling array");
			newArr.push({x: i*10, y: i*10}); 
		}
		console.log("Array is filled: ");
		console.log(newArr);
		chart.render();
	});


</script>











